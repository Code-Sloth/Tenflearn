{% extends 'base.html' %} 
{% load static %}
{% load humanize %} 
{% block title %}
ì¸í”„ëŸ° - ë¼ì´í”„íƒ€ì„ì»¤ë¦¬ì–´ í”Œë«í¼
{% endblock title %} 
{% block content %}
<link
  rel="stylesheet"
  type="text/css"
  href="{% static 'courses/css/course_index.css' %}"
/>
{% comment %} <link
  rel="stylesheet"
  type="text/css"
  href="{% static 'courses/css/course_card.css' %}"
/> {% endcomment %}
{% comment %} Link Swiper's CSS {% endcomment %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />

{% comment %} ìƒë‹¨ ë°°ë„ˆ {% endcomment %}
<header>
  <div>
    <div class="swiper banner">
      <div class="swiper-wrapper">
        <div class="swiper-slide banner-slide">
          <div class="banner-slide-img">
            <img src="{% static 'courses/image/banner1.png' %}" alt="ë©”ì¸ë² ë„ˆ1" />
            <div class="banner-slide-title"></div>
          </div>
        </div>
        <div class="swiper-slide">
          <img src="{% static 'courses/image/banner2.png' %}" alt="ë©”ì¸ë² ë„ˆ2" />
        </div>
      </div>
      <div class="swiper-scrollbar"></div>
    </div>
  </div>
</header>

<main class="main-container">
  {% comment %} í•´ì‹œíƒœê·¸ {% endcomment %}
  <nav class="hash-container">
    <div class="swiper hash-curation">
      <div class="swiper-wrapper">
        <div class="swiper-slide hash-slide">
          <a href="{% url 'courses:courses' %}?tag=javascript">
            <div class="hash-curation-img">
              <img
                src="{% static 'courses/image/hashlogo/js.svg' %}"
                alt="ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œê³ "
              />
            </div>
            <p class="hash-curation-title">#ìë°”ìŠ¤í¬ë¦½íŠ¸</p>
          </a>
        </div>

        <div class="swiper-slide hash-slide">
          <a href="{% url 'courses:courses' %}?tag=typescript">
            <div class="hash-curation-img">
              <img
                src="{% static 'courses/image/hashlogo/ts.svg' %}"
                alt="íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œê³ "
              />
            </div>
            <p class="hash-curation-title">#íƒ€ì…ìŠ¤í¬ë¦½íŠ¸</p>
          </a>
        </div>
        <div class="swiper-slide hash-slide">
          <a href="{% url 'courses:courses' %}?tag=python">
            <div class="hash-curation-img">
              <img
                src="{% static 'courses/image/hashlogo/python.svg' %}"
                alt="íŒŒì´ì¬ë¡œê³ "
              />
            </div>
            <p class="hash-curation-title">#íŒŒì´ì¬</p>
          </a>
        </div>
        <div class="swiper-slide hash-slide">
          <a href="{% url 'courses:courses' %}?tag=html">
            <div class="hash-curation-img">
              <img
                src="{% static 'courses/image/hashlogo/html.svg' %}"
                alt="HTMLë¡œê³ "
              />
            </div>
            <p class="hash-curation-title">#HTML</p>
          </a>
        </div>
        <div class="swiper-slide hash-slide">
          <a href="{% url 'courses:courses' %}?tag=css">
            <div class="hash-curation-img">
              <img
                src="{% static 'courses/image/hashlogo/css.svg' %}"
                alt="CSSë¡œê³ "
              />
            </div>
            <p class="hash-curation-title">#CSS</p>
          </a>
        </div>
        <div class="swiper-slide hash-slide">
          <a href="{% url 'courses:courses' %}?tag=django">
            <div class="hash-curation-img">
              <img
                src="{% static 'courses/image/hashlogo/django.svg' %}"
                alt="ì¥ê³ ë¡œê³ "
              />
            </div>
            <p class="hash-curation-title">#ì¥ê³ </p>
          </a>
        </div>
        <div class="swiper-slide hash-slide">
          <a href="{% url 'courses:courses' %}?tag=react">
            <div class="hash-curation-img">
              <img
                src="{% static 'courses/image/hashlogo/react.svg' %}"
                alt="ë¦¬ì•¡íŠ¸ë¡œê³ "
              />
            </div>
            <p class="hash-curation-title">#ë¦¬ì•¡íŠ¸</p>
          </a>
        </div>
        <div class="swiper-slide hash-slide">
          <a href="{% url 'courses:courses' %}?tag=angular">
            <div class="hash-curation-img">
              <img
                src="{% static 'courses/image/hashlogo/angular.svg' %}"
                alt="ì•µê·¤ëŸ¬ë¡œê³ "
              />
            </div>
            <p class="hash-curation-title">#ì•µê·¤ëŸ¬</p>
          </a>
        </div>
        <div class="swiper-slide hash-slide">
          <a href="{% url 'courses:courses' %}?tag=java">
            <div class="hash-curation-img">
              <img
                src="{% static 'courses/image/hashlogo/java.svg' %}"
                alt="JAVAë¡œê³ "
              />
            </div>
            <p class="hash-curation-title">#JAVA</p>
          </a>
        </div>
        <div class="swiper-slide hash-slide">
          <a href="{% url 'courses:courses' %}?tag=mysql">
            <div class="hash-curation-img">
              <img
                src="{% static 'courses/image/hashlogo/mysql.svg' %}"
                alt="mySQLë¡œê³ "
              />
            </div>
            <p class="hash-curation-title">#mySQL</p>
          </a>
        </div>
        <div class="swiper-slide hash-slide">
          <a href="{% url 'courses:courses' %}?tag=spring">
            <div class="hash-curation-img">
              <img
                src="{% static 'courses/image/hashlogo/spring.svg' %}"
                alt="springë¡œê³ "
              />
            </div>
            <p class="hash-curation-title">#ìŠ¤í”„ë§</p>
          </a>
        </div>
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    </div>
  </nav>

  <article>
    {% comment %} ë¡œê·¸ì¸ íšŒì›ê³¼ ë¹„ìŠ·í•œ ê°•ì˜ {% endcomment %}
    {% if similar_courses %}
      <section class="course-container">
        <div class="course-container-header">
          <h1 class="course-container-header-title">ë‚˜ì™€ ë¹„ìŠ·í•œ ì‚¬ëŒë“¤ì´ ìˆ˜ê°•í•œ ê°•ì˜</h1>
        </div>
        {% comment %} ê°•ì˜ ìºëŸ¬ì…€ {% endcomment %}
        <div class="course-curation-content">
          <div class="swiper course-curation">
            <div class="swiper-wrapper">
              {% comment %} TODO: ë¹„ìŠ·í•œ ê°•ì˜ {% endcomment %}
              {% for similar_course in similar_courses  %}
                <div class="swiper-slide course-slide">
                  <a href="{% url 'courses:detail' similar_course.pk %}" >
                  {% comment %} ê°•ì˜ ì¹´ë“œ í˜¸ë²„ {% endcomment %}
                  <div class="course-slide-hover course-slide-hover-hidden">
                    <div class="course-slide-hover-title">
                      {{ similar_course.title }}
                    </div>
                    <div class="course-slide-hover-bottom">
                      <p>
                        <i class="bi bi-bar-chart">{{ similar_course.get_level_display }}</i>
                      </p>
                      <p>
                        <i class="bi bi-tag-fill">
                          {% for tag in similar_course.tags.all %}
                          <span>#{{ tag.name }} </span>
                          {% endfor %}
                        </i>
                      </p>
                    </div>
                  </div>
                  <div>
                    {% comment %} ê°•ì˜ ì¹´ë“œ {% endcomment %}
                      <div class="course-card-container">
                        <div class="course-card-img">
                          <img src="{{ similar_course.image.url }}" alt="{{ similar_course.title }}">
                        </div>
                        <div class="course-card-content">
                          <div class="course-card-content-title">{{ similar_course.title }} </div>
                          <div class="course-card-content-writer">{{ similar_course.user}} </div>
                          <div class="d-flex course-card-content-star">
                            <div class='banner-star-box'>
                              <div class='banner-star-gray'>
                                <img src="{% static 'courses/image/graystars.png' %}" alt="graystar">
                              </div>
                              <div class='banner-star-yellow' style='width: {{ similar_course.star_multiple }}%;'>
                                <img src="{% static 'courses/image/yellowstars.png' %}" alt="yellowstar">
                              </div>
                            </div>
                            <span class="course-card-content-reviews-cnt">({{ similar_course.reviews.count }})</span>
                          </div>
                          {% if not similar_course.discount_rate %}
                            {% if not similar_course.price %}
                            <div class="course-card-content-price">ë¬´ë£Œ
                            </div>
                            {% else %}
                            <div class="course-card-content-price">â‚©{{ similar_course.price|intcomma }}
                            </div>
                            {% endif %}
                          {% else %}
                          <div class="course-card-content-price-sub">
                            <span class="course-card-content-price-underline">â‚©{{ similar_course.price|intcomma }}
                            </span>
                            <span class="course-card-content-price">â‚©{{ similar_course.discounted_price|intcomma }}
                            </span>
                          </div>
                          <div class="course-card-content-bottom">
                            <span class="discount-tag">í• ì¸ì¤‘</span>
                          </div>
                          {% endif %}
                        </div>
                      </div>
                    </a>
                </div>
  
                </div>
                {% endfor %}
              </div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
          </div>
        </div>
      </section>
    {% endif %}
    
    {% comment %} ìµœì‹ ìˆœ {% endcomment %}
    <section class="course-container">
      <div class="course-container-header">
        <h1 class="course-container-header-title">ë”°ëˆë”°ëˆ, ì‹ ê·œ ê°•ì˜ë¥¼ ë§Œë‚˜ë³´ì„¸ìš”! ğŸ™‹â€â™€ï¸></h1>
        <p class="course-curation-header-subtext">
          ë¹ ë¥´ê²Œ ë°”ë€ŒëŠ” íŠ¸ëœë“œ, ë¨¼ì € ë„ì „í•˜ì„¸ìš”
        </p>
      </div>
      {% comment %} ê°•ì˜ ìºëŸ¬ì…€ {% endcomment %}
      <div class="course-curation-content">
        <div class="swiper course-curation">
          <div class="swiper-wrapper">
            {% for course in courses  %}
              <div class="swiper-slide course-slide">
                <a href="{% url 'courses:detail' course.pk %}" >
                {% comment %} ê°•ì˜ ì¹´ë“œ í˜¸ë²„ {% endcomment %}
                <div class="course-slide-hover course-slide-hover-hidden">
                  <div class="course-slide-hover-title">
                    {{ course.title }}
                  </div>
                  <div class="course-slide-hover-bottom">
                    <p>
                      <i class="bi bi-bar-chart">{{ course.get_level_display }}</i>
                    </p>
                    <p>
                      <i class="bi bi-tag-fill">
                        {% for tag in course.tags.all %}
                        <span>#{{ tag.name }} </span>
                        {% endfor %}
                      </i>
                    </p>
                  </div>
                </div>
                <div>
                  {% comment %} ê°•ì˜ ì¹´ë“œ {% endcomment %}
                    <div class="course-card-container">
                      <div class="course-card-img">
                        <img src="{{ course.image.url }}" alt="{{ course.title }}">
                      </div>
                      <div class="course-card-content">
                        <div class="course-card-content-title">{{ course.title }} </div>
                        <div class="course-card-content-writer">{{ course.user}} </div>
                        <div class="d-flex course-card-content-star">
                          <div class='banner-star-box'>
                            <div class='banner-star-gray'>
                              <img src="{% static 'courses/image/graystars.png' %}" alt="graystar">
                            </div>
                            <div class='banner-star-yellow' style='width: {{ course.star_multiple }}%;'>
                              <img src="{% static 'courses/image/yellowstars.png' %}" alt="yellowstar">
                            </div>
                          </div>
                          <span class="course-card-content-reviews-cnt">({{ course.reviews.count }})</span>
                        </div>
                        {% if not course.discount_rate %}
                          {% if not course.price %}
                          <div class="course-card-content-price">ë¬´ë£Œ
                          </div>
                          {% else %}
                          <div class="course-card-content-price">â‚©{{ course.price|intcomma }}
                          </div>
                          {% endif %}
                        {% else %}
                        <div class="course-card-content-price-sub">
                          <span class="course-card-content-price-underline">â‚©{{ course.price|intcomma }}
                          </span>
                          <span class="course-card-content-price">â‚©{{ course.discounted_price|intcomma }}
                          </span>
                        </div>
                        <div class="course-card-content-bottom">
                          <span class="discount-tag">í• ì¸ì¤‘</span>
                        </div>
                        {% endif %}
                      </div>
                    </div>
                  </a>
              </div>

              </div>
              {% endfor %}
            </div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>
    </section>

    {% comment %} ë³„ì ìˆœ {% endcomment %}
    <section class="course-container">
      <div class="course-container-header">
        <h1 class="course-container-header-title">ìš”ì¦˜ ì¸ê¸° ë§ì€ ê°•ì˜ëŠ”?ğŸ•µ></h1>
        <p class="course-curation-header-subtext">
          ì‚¬ëŒë“¤ì˜ í‰ì ì„ ë§ì´ ë°›ì€ ê°•ì˜ë¶€í„° ì‹œì‘í•˜ì„¸ìš”!
        </p>
      </div>
      {% comment %} ê°•ì˜ ìºëŸ¬ì…€ {% endcomment %}
      <div class="course-curation-content">
        <div class="swiper course-curation">
          <div class="swiper-wrapper">
            {% for course in sorted_star_courses %}
              <div class="swiper-slide course-slide">
                <a href="{% url 'courses:detail' course.pk %}" >
                {% comment %} ê°•ì˜ ì¹´ë“œ í˜¸ë²„ {% endcomment %}
                <div class="course-slide-hover course-slide-hover-hidden">
                  <div class="course-slide-hover-title">
                    {{ course.title }}
                  </div>
                  <div class="course-slide-hover-bottom">
                    <p>
                      <i class="bi bi-bar-chart">{{ course.get_level_display }}</i>
                    </p>
                    <p>
                      <i class="bi bi-tag-fill">
                        {% for tag in course.tags.all %}
                        <span>#{{ tag.name }} </span>
                        {% endfor %}
                      </i>
                    </p>
                  </div>
                </div>
                <div>
                  {% comment %} ê°•ì˜ ì¹´ë“œ {% endcomment %}
                    <div class="course-card-container">
                      <div class="course-card-img">
                        {% if course.image %}
                        <img src="{{ course.image.url }}" alt="{{ course.title }}">
                        {% else %}
                        <img src="{% static 'courses/image/noimage.png' %}" alt="ê°•ì˜ë©”ì¸ì‚¬ì§„">
                        {% endif %}
                      </div>
                      <div class="course-card-content">
                        <div class="course-card-content-title">{{ course.title }} </div>
                        <div class="course-card-content-writer">{{ course.user}} </div>
                        <div class="d-flex course-card-content-star">
                          <div class='banner-star-box'>
                            <div class='banner-star-gray'>
                              <img src="{% static 'courses/image/graystars.png' %}" alt="graystar">
                            </div>
                            <div class='banner-star-yellow' style='width: {{ course.star_multiple }}%;'>
                              <img src="{% static 'courses/image/yellowstars.png' %}" alt="yellowstar">
                            </div>
                          </div>
                          <span class="course-card-content-reviews-cnt">({{ course.reviews.count }})</span>
                        </div>
                        {% if not course.discount_rate %}
                          {% if not course.price %}
                          <div class="course-card-content-price">ë¬´ë£Œ
                          </div>
                          {% else %}
                          <div class="course-card-content-price">â‚©{{ course.price|intcomma }}
                          </div>
                          {% endif %}
                        {% else %}
                        <div class="course-card-content-price-sub">
                          <span class="course-card-content-price-underline">â‚©{{ course.price|intcomma }}
                          </span>
                          <span class="course-card-content-price">â‚©{{ course.discounted_price|intcomma }}
                          </span>
                        </div>
                        <div class="course-card-content-bottom">
                          <span class="discount-tag">í• ì¸ì¤‘</span>
                        </div>
                        {% endif %}
                      </div>
                    </div>
                  </a>
              </div>

              </div>
              {% endfor %}
            </div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>
    </section>
    
    {% comment %} ìˆ˜ê°•ìƒìˆœ {% endcomment %}
    <section class="course-container">
      <div class="course-container-header">
        <h1 class="course-container-header-title">ì´ë ‡ê²Œ ë§ì€ ìˆ˜ê°•ìƒì´ ë“¤ì—ˆë‹¤ê³ ? ë­ì•¼..ğŸ‘¥ğŸ‘¤ì›…ì„±ì›…ì„±..ğŸ‘¥ğŸ‘¤ğŸ‘¥></h1>
        <p class="course-curation-header-subtext">
          ë§ì€ ìˆ˜ê°•ìƒì´ ì¦ëª…í•œ 1íƒ€ ê°•ì˜ë§Œ ëª¨ì•˜ìŠµë‹ˆë‹¤.
        </p>
      </div>
      {% comment %} ê°•ì˜ ìºëŸ¬ì…€ {% endcomment %}
      <div class="course-curation-content">
        <div class="swiper course-curation">
          <div class="swiper-wrapper">
            {% for course in sorted_enrolment_courses %}
              <div class="swiper-slide course-slide">
                <a href="{% url 'courses:detail' course.pk %}" >
                {% comment %} ê°•ì˜ ì¹´ë“œ í˜¸ë²„ {% endcomment %}
                <div class="course-slide-hover course-slide-hover-hidden">
                  <div class="course-slide-hover-title">
                    {{ course.title }}
                  </div>
                  <div class="course-slide-hover-bottom">
                    <p>
                      <i class="bi bi-bar-chart">{{ course.get_level_display }}</i>
                    </p>
                    <p>
                      <i class="bi bi-tag-fill">
                        {% for tag in course.tags.all %}
                        <span>#{{ tag.name }} </span>
                        {% endfor %}
                      </i>
                    </p>
                  </div>
                </div>
                <div>
                  {% comment %} ê°•ì˜ ì¹´ë“œ {% endcomment %}
                    <div class="course-card-container">
                      <div class="course-card-img">
                        {% if course.image %}
                        <img src="{{ course.image.url }}" alt="{{ course.title }}">
                        {% else %}
                        <img src="{% static 'courses/image/noimage.png' %}" alt="ê°•ì˜ë©”ì¸ì‚¬ì§„">
                        {% endif %}
                      </div>
                      <div class="course-card-content">
                        <div class="course-card-content-title">{{ course.title }} </div>
                        <div class="course-card-content-writer">{{ course.user}} </div>
                        <div class="d-flex course-card-content-star">
                          <div class='banner-star-box'>
                            <div class='banner-star-gray'>
                              <img src="{% static 'courses/image/graystars.png' %}" alt="graystar">
                            </div>
                            <div class='banner-star-yellow' style='width: {{ course.star_multiple }}%;'>
                              <img src="{% static 'courses/image/yellowstars.png' %}" alt="yellowstar">
                            </div>
                          </div>
                          <span class="course-card-content-reviews-cnt">({{ course.reviews.count }})</span>
                        </div>
                        {% if not course.discount_rate %}
                          {% if not course.price %}
                          <div class="course-card-content-price">ë¬´ë£Œ
                          </div>
                          {% else %}
                          <div class="course-card-content-price">â‚©{{ course.price|intcomma }}
                          </div>
                          {% endif %}
                        {% else %}
                        <div class="course-card-content-price-sub">
                          <span class="course-card-content-price-underline">â‚©{{ course.price|intcomma }}
                          </span>
                          <span class="course-card-content-price">â‚©{{ course.discounted_price|intcomma }}
                          </span>
                        </div>
                        <div class="course-card-content-bottom">
                          <span class="discount-tag">í• ì¸ì¤‘</span>
                        </div>
                        {% endif %}
                      </div>
                    </div>
                  </a>
              </div>

              </div>
              {% endfor %}
            </div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>
    </section>

  </article>
</main>


<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
<script src="{% static 'courses/js/curation.js' %}"></script>
<script type="module" src="{% static 'courses/js/cardHover.js' %}"></script>
{% endblock content %}
