{% extends 'base.html' %}
{% load static %} 
{% comment %} {% load pagination_tags %} {% endcomment %}
{% load custom_filters %}


{% block title %}
{% endblock title %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'communities\css\inflearn_index.css' %}">

<div class="community-box-header">
  <div class="community-header">
    <div class="community-header__title">ìˆ˜ê°•í‰ ì´ 111,268ê°œ, ë§Œì¡±ë„ 96.5%</div>
    <div class="community-header__content">ğŸ”¥ì‹¤ì‹œê°„ìœ¼ë¡œ ì˜¬ë¼ì˜¤ëŠ” ì§„ì§œ ìˆ˜ê°•í‰!ğŸ”¥</div>
  </div>
</div>

<div class="community-body">

    <div class='community-body__left'>
        <div class="community-body__left__content">ìˆ˜ê°•í‰</div>
    </div>


    <div class="community-body__right">
      {% for review in page_obj %}
      <div class="community-body__review">
        <div class="review-left">
          <div class="review-left__star"><div class='banner-star-box'>
            <div class='banner-star-gray'>
              <img src="{% static 'courses/image/graystars.png' %}" alt="graystar">
            </div>
            <div class='banner-star-yellow' style='width: {{ 3|divide_by_five }}%;'>
              <img src="{% static 'courses/image/yellowstars.png' %}" alt="yellowstar">
            </div>
          </div>
        </div>
          <div class="review-left__content">{{ review.content|truncatechars:80 }}</div>
          <div class="review-left__info">ê¸€ì“´ì´: {{ review.user}} {{ review.created_at }} ê°•ì˜ëª…: {{ review.course.title }}</div>
        </div>
          <div class="review-right__img">
            <img class="lecture-img"src="{{ review.course.image.url }}" alt="ê°•ì˜ ì‚¬ì§„">
          </div>
      </div>
      {% endfor %} 
    </div>
  </div>  


<!-- í˜ì´ì§€ë„¤ì´ì…˜ ì»´í¬ë„ŒíŠ¸ ì‹œì‘ -->
<ul class="pagination justify-content-center">
      
  <!-- ì´ì „ í˜ì´ì§€ ë²„íŠ¼ -->
  <!-- ì´ì „ í˜ì´ì§€ê°€ ì¡´ì¬í•  ê²½ìš° ì´ì „ í˜ì´ì§€ ë²„íŠ¼ í™œì„±í™” -->
  {% if reviews.has_previous %}
    <li class="page-item">
      <a class="page-link" href="?page=1">ì²˜ìŒ</a>
    </li>
    <li class="page-item">
      <a class="page-link" href="?page={{ reviews.previous_page_number }}">ì´ì „</a>
    </li>
  {% else %}
    <li class="page-item disabled">
      <a class="page-link" tabindex="-1" aria-disabled="true" href="#">ì²˜ìŒ</a>
    </li>
    <li class="page-item disabled">
      <a class="page-link" tabindex="-1" aria-disabled="true" href="#">ì´ì „</a>
    </li>
  {% endif %}

  <!-- í˜ì´ì§€ ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸ ìƒì„± ë°˜ë³µë¬¸ -->
  {% for page_number in reviews.paginator.page_range %}

    
    <!-- í˜ì´ì§€ ë²ˆí˜¸ê°€ ë¬´í•œíˆ ìƒì„±ë˜ëŠ” ê²ƒì„ ë§‰ëŠ” ì¡°ê±´ë¬¸ -->
    <!-- í˜„ì¬ í˜ì´ì§€ì—ì„œ +- 5 ê¹Œì§€ ìƒì„± -->
    {% if page_number >= reviews.number|add:-5 and page_number <= reviews.number|add:5 %}
      {% if page_number == reviews.number %}
        <li class="page-item active" aria-current="page">
          <a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
        </li>
      {% else %}
        <li class="page-item">
          <a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
        </li>
      {% endif %}
    {% endif %}
  {% endfor %}

  <!-- ë‹¤ìŒ í˜ì´ì§€ ë²„íŠ¼ -->
  <!-- ë‹¤ìŒ í˜ì´ì§€ê°€ ì¡´ì¬í•  ê²½ìš° ë‹¤ìŒ í˜ì´ì§€ ë²„íŠ¼ í™œì„±í™” -->
  {% if reviews.has_next %}
    <li class="page-item">
      <a class="page-link" href="?page={{ reviews.next_page_number }}">ë‹¤ìŒ</a>
    </li>
    <li class="page-item">
      <a class="page-link" href="?page={{ last }}">ë§ˆì§€ë§‰</a>
    </li>
  {% else %}
    <li class="page-item disabled">
      <a class="page-link" tabindex="-1" aria-disabled="true" href="#">ë‹¤ìŒ</a>
    </li>
    <li class="page-item disabled">
      <a class="page-link" tabindex="-1" aria-disabled="true" href="#">ë§ˆì§€ë§‰</a>
    </li>
  {% endif %}
</ul>

{% endblock content %}